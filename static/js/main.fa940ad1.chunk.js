(this.webpackJsonpkpmg=this.webpackJsonpkpmg||[]).push([[0],{16:function(e,t,n){e.exports={root:"HomePage_root__1-Mwu",companyCount:"HomePage_companyCount__fry03"}},17:function(e,t,n){e.exports={root:"OrgChartPage_root__2P_Ar",companyCount:"OrgChartPage_companyCount__3iPNW"}},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(1),o=n.n(a),r=n(19),s=n.n(r),c=n(10),d=n(2),l={companies:[]},j=o.a.createContext(l),h=n(22),p=n(7),m=n.n(p),u=function(e,t){return 1===t?"single":0===e?"left":e===t-1?"right":"middle"},b=function e(t){var n=t.level,o=t.orgNumber,r=t.position,s=Object(a.useContext)(j).companies.find((function(e){return e.organizationalNumber===o}));if(!s)return Object(i.jsxs)("div",{children:["Orgnr not found: ",o]});var c=s.companyName,d=s.internalCompanyName,l=s.parentShares,h=s.subsidiaries,p=s.parentCompany.length,b=m.a.root+" "+(1===n||0===h.length?m.a.noBorder:"");return Object(i.jsxs)("div",{className:b,children:[n>1&&"single"!==r&&Object(i.jsxs)("div",{className:m.a.border,children:[Object(i.jsx)("div",{className:"left"===r?m.a.borderOff:m.a.borderOn}),Object(i.jsx)("div",{className:"right"===r?m.a.borderOff:m.a.borderOn})]}),n>1&&"single"!==r&&Object(i.jsx)("div",{children:"|"}),n>1&&Object(i.jsx)("div",{children:l.join(" ")}),n>1&&Object(i.jsx)("div",{children:"\u2193"}),Object(i.jsxs)("div",{className:m.a.company+" "+(p>1?m.a.companyMultiParent:""),children:[Object(i.jsx)("div",{className:m.a.name,children:c}),Object(i.jsx)("div",{children:d}),Object(i.jsx)("div",{children:o})]}),h.length>0&&Object(i.jsx)("div",{children:"|"}),h.length>0&&n<10&&Object(i.jsx)("div",{className:m.a.subsidiaries,children:h.map((function(t,a){return Object(i.jsx)(e,{level:n+1,orgNumber:t,position:u(a,h.length)},t)}))})]})},O=n(20),x=function e(t){Object(O.a)(this,e),this.companyName=void 0,this.organizationalNumber=void 0,this.internalCompanyName=void 0,this.companyType=void 0,this.acquisition=void 0,this.acquisitionRegistrationDate=void 0,this.boardSeat=void 0,this.boardMembers=void 0,this.auditor=void 0,this.parentCompany=void 0,this.parentShares=void 0,this.subsidiaries=void 0,this.shareInSubsidiaries=void 0,this.administeredBy=void 0;var n=t.split(";");this.companyName=n[0],this.organizationalNumber=n[1],this.internalCompanyName=n[2],this.companyType=n[3],this.acquisition="YES"===n[4],this.acquisitionRegistrationDate=n[5],this.boardSeat=n[6],this.boardMembers=n[7].split("|"),this.auditor=n[8],this.parentCompany=""===n[9]?[]:n[9].split("|"),this.parentShares=n[10].split("|"),this.subsidiaries=""===n[11]?[]:n[11].split("|"),this.shareInSubsidiaries=n[12].split("|"),this.administeredBy=n[13]},g=n(9),v=n.n(g),_=function(e){var t=e.onCloseClick,n=Object(a.useContext)(j),o=Object(d.f)();return Object(i.jsx)("div",{className:v.a.root,children:Object(i.jsx)("div",{id:"myModal",className:v.a.modal,children:Object(i.jsxs)("div",{className:v.a.content,children:[Object(i.jsx)("div",{className:v.a.header,children:"Ladda upp en Excel-fil"}),Object(i.jsx)("div",{className:v.a.inputBox,children:Object(i.jsx)("input",{type:"file",onChange:function(e){var i=e.target.files[0],a=new FileReader;a.onload=function(e){var i=e.target.result;if(i.length>0){var a=function(e){return(";"+e).replace(/\r/g,"").split('""').map((function(e){return e.startsWith(";")?e:e.replace(/;/g,"|")})).join("").split("\n").slice(1).filter((function(e){return e.length>0})).map((function(e){return e.startsWith('"')?e.slice(1):e})).map((function(e){return e.endsWith('"')?e.slice(0,-1):e}))}(i).map((function(e){return new x(e)}));n.companies=a}o.push("/orgchart"),t(null)},a.readAsText(i)}})}),Object(i.jsx)("div",{className:v.a.footer,children:Object(i.jsx)("button",{onClick:t,children:"St\xe4nga"})})]})})})},f=n(16),y=n.n(f),C=function(){var e=Object(a.useContext)(j),t=Object(a.useState)(!1),n=Object(h.a)(t,2),o=n[0],r=n[1];return Object(i.jsxs)("div",{className:y.a.root,children:[Object(i.jsx)("h2",{children:"Home"}),Object(i.jsxs)("div",{className:y.a.companyCount,children:["Companies: ",e.companies.length]}),Object(i.jsx)("button",{onClick:function(){return r(!0)},children:"Ladda upp en Excel-fil"}),o&&Object(i.jsx)(_,{onCloseClick:function(){return r(!1)}})]})},N=n(17),k=n.n(N),S=function(){var e=Object(a.useContext)(j),t=e.companies.find((function(e){return!e.parentCompany.length}));return t?Object(i.jsxs)("div",{className:k.a.root,children:[Object(i.jsx)("h2",{children:"Organisation Chart"}),Object(i.jsxs)("div",{className:k.a.companyCount,children:["Companies: ",e.companies.length]}),Object(i.jsx)("div",{children:Object(i.jsx)(b,{level:1,position:"middle",orgNumber:t.organizationalNumber})})]}):null};n(33);var B=function(){return Object(i.jsx)(j.Provider,{value:l,children:Object(i.jsxs)("div",{className:"app",children:[Object(i.jsxs)("div",{className:"app-header",children:[Object(i.jsx)("img",{src:"kpmg-logo.jpg",alt:"kpmg",className:"kpmg-logo"}),Object(i.jsx)("div",{children:"Entity Manager"}),Object(i.jsxs)("div",{className:"menu",children:[Object(i.jsx)(c.b,{to:"/",children:"Home"}),Object(i.jsx)(c.b,{to:"/orgchart",children:"Chart"})]})]}),Object(i.jsxs)(d.c,{children:[Object(i.jsx)(d.a,{path:"/orgchart",render:function(){return Object(i.jsx)(S,{})}}),(e="/",t=Object(i.jsx)(C,{}),Object(i.jsx)(d.a,{path:e,children:t}))]})]})});var e,t},M=(n(34),function(){return Object(i.jsx)(c.a,{children:Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(B,{})})})});s.a.render(Object(i.jsx)(M,{}),document.getElementById("root"))},7:function(e,t,n){e.exports={root:"Company_root__3K53b",noBorder:"Company_noBorder__3F0MP",company:"Company_company__4Rd7M",companyMultiParent:"Company_companyMultiParent__1agNq",name:"Company_name__nbf2i",subsidiaries:"Company_subsidiaries__kqZF7",border:"Company_border__1RQxm",borderOn:"Company_borderOn__gWSHR",borderOff:"Company_borderOff__1tTE6"}},9:function(e,t,n){e.exports={root:"UploadDialog_root__2v1ih",modal:"UploadDialog_modal__3DWdg",content:"UploadDialog_content__1vpgk",header:"UploadDialog_header__ekqbB",inputBox:"UploadDialog_inputBox__39NQ0",inputFile:"UploadDialog_inputFile__1oZB5",footer:"UploadDialog_footer__3KnTh"}}},[[35,1,2]]]);
//# sourceMappingURL=main.fa940ad1.chunk.js.map